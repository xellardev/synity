<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>V3X Eclipse Portal</title>
<style>
body { margin:0; padding:0; background:#0a0a0a; color:#0ff; font-family:'Segoe UI',sans-serif; display:flex; justify-content:center; align-items:center; height:100vh; overflow:hidden; }
.loader { position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); font-size:32px; text-shadow:0 0 20px #0ff; }
.container { display:none; width:90%; max-width:1000px; text-align:center; position:relative; }
.settings { position:absolute; top:20px; left:20px; background:#111; color:#0ff; padding:10px 20px; border:none; cursor:pointer; border-radius:8px; box-shadow:0 0 10px #0ff; transition:0.3s; }
.settings:hover { background:#222; }
.buttons { display:flex; justify-content:space-around; margin-top:100px; flex-wrap:wrap; gap:20px; }
.btn { background:#111; color:#0ff; padding:20px 40px; border:none; border-radius:12px; font-size:18px; cursor:pointer; box-shadow:0 0 15px #0ff; transition:0.3s; flex:1; min-width:150px; position:relative; }
.btn:hover { transform: scale(1.05); box-shadow:0 0 25px #0ff; }
.script-box { display:none; margin-top:20px; background:#111; padding:15px; border-radius:10px; color:#0ff; font-family: monospace; font-size:14px; position:relative; }
.copy-btn { position:absolute; right:10px; top:10px; background:#0ff; color:#000; border:none; padding:5px 10px; cursor:pointer; border-radius:5px; font-weight:bold; }
.fade-out { animation: fadeOut 0.5s forwards; }
@keyframes fadeOut { to { opacity:0; transform:scale(0.8); } }
.error-msg { color:red; font-size:16px; margin-top:10px; font-weight:bold; }
</style>
</head>
<body>

<div class="loader" id="loader">Loading v3X Portal...</div>

<div class="container" id="mainContainer">

    <button class="settings" id="settingsBtn">Settings</button>

    <div class="buttons">
        <button class="btn" id="discordBtn">Discord</button>
        <button class="btn" id="gotScriptBtn">Got Script</button>
        <button class="btn" id="telegramBtn">Telegram (spare)</button>
        <button class="btn" id="idkBtn">idk</button>
    </div>

    <div class="script-box" id="scriptBox">
        <span id="scriptText">loadstring:HTTPGet(".")()</span>
        <button class="copy-btn" onclick="copyScript()">üìé</button>
    </div>

    <div class="error-msg" id="errorMsg" style="display:none;"></div>

</div>

<script>
let config = null;

// –ó–∞–≥—Ä—É–∂–∞–µ–º cfg.json —Å GitHub Raw URL
async function loadConfig() {
    try {
        const res = await fetch('https://raw.githubusercontent.com/v3x-m3sh/v3x-m3sh.github.io/main/cfg.json');
        if(!res.ok) throw new Error('Config not found');
        config = await res.json();
    } catch(e) {
        console.warn("–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ cfg.json, –ø—Ä–∏–º–µ–Ω—è–µ–º –¥–µ—Ñ–æ–ª—Ç:", e.message);
        config = { enabled:false, Site:false, Discord:false, Telegram:false, Idk:false };
    }
}

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–∞–π—Ç–∞ —Å –ø—Ä–æ–≥—Ä—É–∑–∫–æ–π 4 —Å–µ–∫
async function initSite() {
    await loadConfig();
    setTimeout(() => {
        const loader = document.getElementById('loader');
        const container = document.getElementById('mainContainer');
        loader.style.display = 'none';
        if(config.enabled && config.Site){
            container.style.display = 'block';
            setupButtons();
        } else {
            container.innerHTML = "<h1 style='color:red;'>Site disabled in config</h1>";
            container.style.display='block';
        }
    }, 4000);
}

// –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–Ω–æ–ø–æ–∫ —Å —É—á—ë—Ç–æ–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
function setupButtons(){
    const discordBtn = document.getElementById('discordBtn');
    const telegramBtn = document.getElementById('telegramBtn');
    const idkBtn = document.getElementById('idkBtn');
    const gotScriptBtn = document.getElementById('gotScriptBtn');
    const scriptBox = document.getElementById('scriptBox');
    const settingsBtn = document.getElementById('settingsBtn');

    const errorMsg = document.getElementById('errorMsg');

    settingsBtn.onclick = () => alert("Error 401: –ù–µ–¥–æ—Å—Ç—É–ø–Ω–æ");

    discordBtn.onclick = () => {
        if(config.Discord){
            fadeAndRedirect('https://discord.gg/2myNawMhHa');
        } else showError();
    }

    telegramBtn.onclick = () => {
        if(config.Telegram){
            fadeAndRedirect('https://t.me/spare_link');
        } else showError();
    }

    idkBtn.onclick = () => {
        if(config.Idk) alert('idk pressed!');
        else showError();
    }

    let scriptVisible = false;
    gotScriptBtn.onclick = () => {
        scriptVisible = !scriptVisible;
        scriptBox.style.display = scriptVisible ? 'block' : 'none';
        if(scriptVisible) scriptBox.scrollIntoView({behavior:"smooth"});
    }
}

// –ê–Ω–∏–º–∞—Ü–∏—è –∏ —Ä–µ–¥–∏—Ä–µ–∫—Ç
function fadeAndRedirect(url){
    document.querySelectorAll('.btn').forEach(b => b.classList.add('fade-out'));
    setTimeout(()=> window.location.href = url, 500);
}

// –ü–æ–∫–∞–∑ –æ—à–∏–±–∫–∏ –¥–ª—è –æ—Ç–∫–ª—é—á—ë–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
function showError(){
    const errorMsg = document.getElementById('errorMsg');
    errorMsg.innerText = "This function is not available.\n(Maybe Site/html on update xD)";
    errorMsg.style.display = 'block';
    setTimeout(()=>{ errorMsg.style.display='none'; },3000);
}

// –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–∞
function copyScript(){
    const scriptText = document.getElementById('scriptText').innerText;
    navigator.clipboard.writeText(scriptText)
        .then(()=>alert('–°–∫—Ä–∏–ø—Ç —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω!'))
        .catch(()=>alert('–û—à–∏–±–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è'));
}

// –ó–∞–ø—É—Å–∫
initSite();
</script>

</body>
</html>
